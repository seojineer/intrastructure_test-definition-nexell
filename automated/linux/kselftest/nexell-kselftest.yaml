metadata:
    name: kselftest
    format: "Lava-Test-Shell Test Definition 1.0"
    description: "Linux kernel self test"
    maintainer:
        - seoji@nexell.co.kr
    os:
        - oe
        - ubuntu
    scope:
        - functional
    devices:
        - all

#params:
    #TESTPROG: kselftest_armhf.tar.gz
    #ENVIRONMENT: ""

run:
    # run kselftest script directly
    steps:
        - /usr/bin/kselftest/run_kselftest.sh
        #- lava-test-case nexell-kselftest --shell /usr/bin/kselftest/run_kselftest.sh

parse:
    pattern: "^selftests:\\s(?P<test_case_id>\\S+)\\s[[](?P<result>(FAIL|PASS|SKIP))[]]"
    fixupdict:
        FAIL: fail
        PASS: pass
        SKIP: skip
